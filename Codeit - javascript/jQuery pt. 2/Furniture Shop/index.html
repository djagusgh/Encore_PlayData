<!DOCTYPE html>
<html>
  <head>
    <title>Furniture Shop</title>
    <meta charset="utf-8" />
    <link href="css/styles.css" rel="stylesheet" />
  </head>

  <body>
    <div class="navbar">
      <a href="#" id="logo">
        <img src="images/logo.png" width="165">
      </a>

      <ul id="menu">
        <li><a href="#">SHOP</a></li>
        <li><a href="#">CART</a></li>
        <li><a href="#">LOGIN</a></li>
      </ul>
    </div>

    <div class="hero-header">
      <div class="info">
        <h1>블랙 프라이데이 슈퍼 세일</h1>
        <h2>최대 50% 할인의 혜택을 받아보세요!</h2>
        <button id="popup-trigger">쿠폰 받기</button>
      </div>
    </div>

    <div id="popup" role="alert">
      <div id="popup-container">
        <h3>다운 완료!</h3>
        <p>내 쿠폰함에서 확인하세요!</p>

        <button id="close-btn">확인</button>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
    <script>
      // 1. 이벤트 등록

      $('button').on('click', showOrHidePopUp);
      $(document).on('keydown', showOrHidePopUp);

      function showOrHidePopUp(event) {
        var targetId = '';
        if (event.type === 'click'){ // 클릭 이벤트 시
            targetId = event.currentTarget.id;
        } else if (event.type === 'keydown'){
          if (event.keyCode === 27){ // event.key === 'esc' 작동 x, esc : keyCode 27
            targetId = 'close-btn';
          }
        }

        if (targetId === 'popup-trigger'){
          console.log('보여짐');
          $('#popup').fadeIn(1000);
        } else if (targetId === 'close-btn'){
          console.log('사라짐');
          $('#popup').fadeOut(1000);
          event.preventDefault(); // 미적용시 fadeOut 후 fadeIn 적용!
        }
      }

      // 해설

      // // 기능 1. '쿠폰 받기' 버튼을 눌렀을 때, 팝업이 나타나게 하는 것
      // $('#popup-trigger').on('click'. popupFadeIn);
      // function popupFadeIn() {
      //   $('#popup').fadeIn(500);
      // };

      // // 기능 2. 팝업 창의 '확인' 버튼을 눌렀을 때, 팝업이 사라지게 하는 것
      // $('#close-btn').on('click', popupFadeOut);
      // function popupFadeOut(){
      //   $('#popup').fadeOut(500);
      // };

      // // 기능 3. ESC 키를 눌렀을 때, 팝업이 사라지게 하는 것
      // $(document).on('keydown', pushEscKey);
      // function pushEscKey(event){
      //   if(event.which=='27'){
      //     $('#popup').fadeOut(500);
      //   }
      // };



    </script>
  </body>
</html>
